$schema: https://azuremlschemas.azureedge.net/latest/commandJob.schema.json
type: command

name: train-diabetes-model
display_name: Train Diabetes Logistic Regression (vs-cluster)
description: Train a logistic regression model using MLflow autologging

code: .
command: >-
  python train.py 
  --training_data ${{inputs.training_data}} 
  --reg_rate ${{inputs.reg_rate}}

environment: azureml:custom-env:1

inputs:
  training_data:
    type: uri_folder
    path: azureml://datastores/workspaceartifactstore/ExperimentRun/dcid.train-data-job4
  reg_rate: 0.01

#  Use your existing compute target
compute: azureml:vs-cluster

experiment_name: mlops-diabetes
